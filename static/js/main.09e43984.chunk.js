(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"CHARTS_FETCH_CHART_DATA_BEGIN",function(){return s}),a.d(r,"CHARTS_FETCH_CHART_DATA_SUCCESS",function(){return m}),a.d(r,"CHARTS_FETCH_CHART_DATA_FAILURE",function(){return h}),a.d(r,"CHARTS_FETCH_CHART_DATA_DISMISS_ERROR",function(){return d}),a.d(r,"fetchChartData",function(){return p}),a.d(r,"dismissFetchChartDataError",function(){return E}),a.d(r,"reducer",function(){return f});a(38);var n=a(0),c=a.n(n),l=a(23),i=a(4),o=a(30),u=a(1),s="CHARTS_FETCH_CHART_DATA_BEGIN",m="CHARTS_FETCH_CHART_DATA_SUCCESS",h="CHARTS_FETCH_CHART_DATA_FAILURE",d="CHARTS_FETCH_CHART_DATA_DISMISS_ERROR";function p(){return function(e){e({type:s}),fetch("https://carscanner.github.io/carscanner-data/export.json").then(function(e){return e.json()}).then(function(t){e(function(e){return{type:m,data:e}}(t))}).catch(function(t){e({type:h,data:{error:t}})})}}function E(){return{type:d}}var y={fetchChartDataPending:!1,fetchChartDataError:null};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(u.a)({},e,{fetchChartDataPending:!0,fetchChartDataError:null});case m:return Object(u.a)({},e,{fetchChartDataPending:!1,fetchChartDataError:null});case h:return Object(u.a)({},e,{fetchChartDataPending:!1,fetchChartDataError:t.data.error});case d:return Object(u.a)({},e,{fetchChartDataError:null});default:return e}}var v={series:[],avg_series:[],car_details:[],max_year:null,min_year:null,timestamp:null};var C="show_car_details",k={vehicleIndex:null};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:C,data:{vehicleIndex:e}}}var b=Object(i.c)({mileagePage:Object(i.c)({fetchVehicleData:f,vehicleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)({},e,t.data.data);case h:return Object(u.a)({},e,v);default:return e}},vehicleDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)({},e,{vehicleIndex:t.data.vehicleIndex});default:return e}}})}),O=a(32),D=a.n(O),j=[o.a,D.a],A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,g={};var T=a(17),x=a(9),R=a(10),H=a(12),S=a(11),w=a(13),P=a(16),I=a(33),F=a.n(I),z=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(H.a)(this,Object(S.a)(t).call(this,e)))._chartCarClick=a._chartCarClick.bind(Object(P.a)(a)),a}return Object(w.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=[{data:this.props.chartData.series,name:"Pojazdy",type:"scatter"},{data:this.props.chartData.avg_series,name:"\u015aredni",type:"line"}],t={chart:{events:{dataPointSelection:this._chartCarClick},height:600,toolbar:{tools:{download:!1}},zoom:{enabled:!0,type:"xy",zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},noData:{text:"Brak danych"},theme:{palette:"palette6"},xaxis:{tickAmount:this.props.chartData.max_age,min:0,max:this.props.chartData.max_age,tickPlacement:"on",labels:{formatter:this.xAxisLabelFormatter.bind(this)}},yaxis:{min:0,title:{text:"Przebieg"}},tooltip:{enabled:!1},fill:{type:"solid"},markers:{size:[6,0]},legend:{show:!0}};return c.a.createElement("div",{className:"charts-cars-chart"},c.a.createElement(F.a,{options:t,series:e,type:"line",width:800,height:600}))}},{key:"_chartCarClick",value:function(e,t,a){this.props.onCarClick(a.dataPointIndex)}},{key:"xAxisLabelFormatter",value:function(e,t,a){var r=this.props.chartData,n=r.min_year+r.max_age-e;return n===Math.ceil(n)?n:""}}]),t}(n.PureComponent),N=a(34),B=a.n(N),M=(a(52),a(53),function(e){function t(){return Object(x.a)(this,t),Object(H.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props.timestamp?c.a.createElement(B.a,{unix:!0,fromNow:!0,locale:"pl"},this.props.timestamp):"Brak danych";return c.a.createElement("div",{className:"charts-timestamp"},"Ostatnia aktualizacja: ",e)}}]),t}(n.PureComponent)),L=(a(54),a(20)),U=a.n(L),G=a(15),J=a.n(G),V=a(7),X=a.n(V),q=(a(55),a(36)),K=a.n(q),Q=a(18),W=a.n(Q),Y=a(35),Z=a.n(Y),$=function(e){function t(){return Object(x.a)(this,t),Object(H.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e,t=this.props.car;if(null===t||void 0===t)return c.a.createElement("div",{className:"vehicle-details"},"Brak danych");var a=t.imported;return e=null===a?"Brak danych":a?"Tak":"Nie",c.a.createElement(U.a,null,c.a.createElement(J.a,null,c.a.createElement(X.a,{xs:{span:0}}),c.a.createElement(X.a,{className:"justify-content-md-center",xs:{span:12},xl:{span:6,offset:3}},c.a.createElement(W.a,null,c.a.createElement(W.a.Header,{as:"h5"},c.a.createElement(U.a,null,c.a.createElement(J.a,null,c.a.createElement(X.a,null,t.name),c.a.createElement(X.a,{xs:"auto"},c.a.createElement(Z.a,{variant:"primary",href:t.link,size:"sm"},"Allegro"))))),c.a.createElement(W.a.Img,{variant:"top",src:t.image}),c.a.createElement(W.a.Body,null,c.a.createElement(W.a.Text,null,c.a.createElement(K.a,{size:"sm"},c.a.createElement("tr",{key:"make",id:"make"},c.a.createElement("td",{key:"key"},"Marka"),c.a.createElement("td",{key:"value"},t.make)),c.a.createElement("tr",{key:"model",id:"model"},c.a.createElement("td",{key:"key"},"Model"),c.a.createElement("td",{key:"value"},t.model)),c.a.createElement("tr",{key:"price",id:"price"},c.a.createElement("td",{key:"key"},"Cena"),c.a.createElement("td",{key:"value"},t.price)),c.a.createElement("tr",{key:"year"},c.a.createElement("td",{key:"key"},"Rocznik"),c.a.createElement("td",{key:"value"},t.year)),c.a.createElement("tr",{key:"mileage"},c.a.createElement("td",{key:"key"},"Przebieg"),c.a.createElement("td",{key:"value"},t.mileage)),c.a.createElement("tr",{key:"location"},c.a.createElement("td",{key:"key"},"Localizacja"),c.a.createElement("td",{key:"value"},t.location)),c.a.createElement("tr",{key:"imported"},c.a.createElement("td",{key:"key"},"Importowany"),c.a.createElement("td",{key:"value"},e)))))))))}}]),t}(n.PureComponent);var ee=Object(T.b)(function(e){console.log("vehicle details redux map state to props:",e);var t=e.mileagePage.vehicleDetails.vehicleIndex;return{car:null==t?null:e.mileagePage.vehicleData.car_details[t]}},{})($),te=function(e){function t(){return Object(x.a)(this,t),Object(H.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return c.a.createElement(U.a,null,c.a.createElement(J.a,null,c.a.createElement(X.a,{className:"charts-mileage-page"},c.a.createElement(z,{chartData:this.props.chartData,onCarClick:this.props.showCarDetails}))),c.a.createElement(J.a,null,c.a.createElement(X.a,null,c.a.createElement(ee,null))),c.a.createElement(J.a,null,c.a.createElement(X.a,null,c.a.createElement(M,{timestamp:this.props.chartData.timestamp}))))}},{key:"componentDidMount",value:function(){this.props.fetchChartData()}}]),t}(n.Component);var ae=Object(T.b)(function(e){return{chartData:e.mileagePage.vehicleData}},function(e){return Object(u.a)({},Object(i.b)(Object(u.a)({},r,{showCarDetails:_}),e))})(te),re=(a(65),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return Object(i.e)(b,e,A(i.a.apply(void 0,j)))}());Object(l.render)(c.a.createElement(T.a,{store:re},c.a.createElement(ae,null)),document.querySelector("#root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.09e43984.chunk.js.map